org.broadinstitute.gdr.encode.explorer.port: 8080
{{with $db := env "DB_NAME"}}{{with $dbLogin := vault (printf "secret/dsde/gdr/encode/cloudsql/logins/%s" $db)}}
org.broadinstitute.gdr.encode.explorer.db.username: {{$dbLogin.Data.username}}
org.broadinstitute.gdr.encode.explorer.db.password: {{$dbLogin.Data.password}}
org.broadinstitute.gdr.encode.explorer.db.connect-url: "jdbc:postgresql://google/{{$db}}?useSSL=false&cloudSqlInstance={{env "POSTGRES_INSTANCE"}}&socketFactory=com.google.cloud.sql.postgres.SocketFactory&user={{$dbLogin.Data.username}}&password={{$dbLogin.Data.password}}"
{{end}}{{end}}
